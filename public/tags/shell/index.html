<!DOCTYPE html>
<html lang="en" dir=" auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Shell | xlikaiçš„åšå®¢</title>
<meta name="keywords" content="">
<meta name="description" content="è®°å½•VSATçš„æˆé•¿å†ç¨‹">
<meta name="author" content="xlikai">
<link rel="canonical" href="https://xlikai.github.io/tags/shell/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.0842d7db16db2ff789b7cf7c7e407315c086ce49a84b1c2cbff454e148925959.css" integrity="sha256-CELX2xbbL/eJt898fkBzFcCGzkmoSxwsv/RU4UiSWVk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://xlikai.github.io/favicon.jpg">
<link rel="icon" type="image/png" sizes="16x16" href="https://xlikai.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://xlikai.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://xlikai.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://xlikai.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://xlikai.github.io/tags/shell/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="https://xlikai.github.io/tags/shell/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://xlikai.github.io/tags/shell/">
  <meta property="og:site_name" content="xlikaiçš„åšå®¢">
  <meta property="og:title" content="Shell">
  <meta property="og:description" content="è®°å½•VSATçš„æˆé•¿å†ç¨‹">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shell">
<meta name="twitter:description" content="è®°å½•VSATçš„æˆé•¿å†ç¨‹">

</head>

    <body class="list is-list-page" id="top">
            <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://xlikai.github.io/" accesskey="h" title="Xlikai Home (Alt + H)">Xlikai Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div class="home-search">
            <form action="https://xlikai.github.io/search" method="get">
                <input type="text" name="q" placeholder="æœç´¢ç¬”è®°..." required>
                <button type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                </button>
            </form>
        </div>
        <ul id="menu">
            <li>
                <a href="https://xlikai.github.io/posts" title="å­¦ä¹ ç¬”è®°">
                    <span>å­¦ä¹ ç¬”è®°</span>
                </a>
            </li>
            <li>
                <a href="https://xlikai.github.io/link" title="é¡¹ç›®è®°å½•">
                    <span>é¡¹ç›®è®°å½•</span>
                </a>
            </li>
            <li>
                <a href="https://xlikai.github.io/monthly" title="æ¯æœˆè®°å½•">
                    <span>æ¯æœˆè®°å½•</span>
                </a>
            </li>
            <li>
                <a href="https://xlikai.github.io/about" title=" å…³äº ">
                    <span> å…³äº </span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Shell
  </h1>
</header>

<div class="posts-wrapper">

  <article class="post-entry tag-entry" data-timestamp="1768790880"> 
    <header class="entry-header">
      <h2 class="entry-hint-parent">Shellç»ƒä¹ 2-2
      </h2>
    </header>
    <div class="entry-content">
      <p>åœ¨æ—¥å¸¸çš„ Shell æ“ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨æ·±å±‚çº§çš„ç›®å½•ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚The Missing Semester of Your CS Education 2-2 ä½œä¸šè¦æ±‚ç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼Œå®ç° marco ä¿å­˜å½“å‰ç›®å½•å’Œ polo è·³è½¬å›ä¿å­˜çš„ç›®å½•ã€‚
è„šæœ¬æºç  å¯ä»¥ç›´æ¥ä¸‹è½½æˆ–å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ° /home/vsat/marco.shï¼š
#!/bin/bash declare -A MARCO_DIRS MARCO_DEFAULT=&#34;default&#34; MARCO_HISTORY_FILE=&#34;$HOME/.marco_history&#34; # 1. æŒä¹…åŒ–åŠ è½½ï¼šå¯åŠ¨æ—¶è¯»å–å†å²è®°å½• if [[ -f &#34;$MARCO_HISTORY_FILE&#34; ]]; then while IFS=: read -r tag path; do # ç®€å•æ ¡éªŒç›®å½•æ˜¯å¦å­˜åœ¨ if [[ -d &#34;$path&#34; ]]; then MARCO_DIRS[&#34;$tag&#34;]=&#34;$path&#34; fi done &lt; &#34;$MARCO_HISTORY_FILE&#34; fi # å†…éƒ¨è¾…åŠ©å‡½æ•°ï¼šä¿å­˜å†å²è®°å½•åˆ°æ–‡ä»¶ï¼ˆé‡å†™æ¨¡å¼ï¼Œå®ç°æ¸…ç†ï¼‰ _marco_save_history() { # ç¡®ä¿æ–‡ä»¶å­˜åœ¨ï¼ˆå¦‚æœæ˜¯ç©ºçš„ï¼‰ : &gt; &#34;$MARCO_HISTORY_FILE&#34; for tag in &#34;${!MARCO_DIRS[@]}&#34;; do echo &#34;$tag:${MARCO_DIRS[$tag]}&#34; &gt;&gt; &#34;$MARCO_HISTORY_FILE&#34; done } marco(){ local tag=&#34;${1:-$MARCO_DEFAULT}&#34; local current_dir=&#34;$(pwd)&#34; MARCO_DIRS[&#34;$tag&#34;]=&#34;$current_dir&#34; # è°ƒç”¨ä¼˜åŒ–åçš„ä¿å­˜å‡½æ•°ï¼ˆå»é‡ã€æ¸…ç†ï¼‰ _marco_save_history echo &#34;âœ“ Marco[$tag]: å·²ä¿å­˜ â†’ $current_dir&#34; echo &#34; å¯ç”¨æ ‡ç­¾: ${!MARCO_DIRS[@]}&#34; } polo() { local tag=&#34;${1:-$MARCO_DEFAULT}&#34; # å¦‚æœæ²¡æœ‰æŒ‡å®šæ ‡ç­¾ï¼Œä½¿ç”¨é»˜è®¤ if [[ -z &#34;${MARCO_DIRS[$tag]}&#34; ]]; then echo &#34;âœ— Polo[$tag]: é”™è¯¯ï¼è¯¥æ ‡ç­¾æœªä¿å­˜ä»»ä½•ç›®å½•&#34; echo &#34; å¯ç”¨çš„æ ‡ç­¾: ${!MARCO_DIRS[@]}&#34; return 1 fi local target_dir=&#34;${MARCO_DIRS[$tag]}&#34; if [[ ! -d &#34;$target_dir&#34; ]]; then echo &#34;âœ— Polo[$tag]: é”™è¯¯ï¼ç›®å½•ä¸å­˜åœ¨: $target_dir&#34; # ä»æ•°ç»„ä¸­ç§»é™¤æ— æ•ˆæ¡ç›®å¹¶åŒæ­¥åˆ°æ–‡ä»¶ unset MARCO_DIRS[&#34;$tag&#34;] _marco_save_history return 1 fi if cd &#34;$target_dir&#34;; then echo &#34;âœ“ Polo[$tag]: å·²è·³è½¬åˆ° â†’ $(pwd)&#34; else echo &#34;âœ— Polo[$tag]: è·³è½¬å¤±è´¥ï¼æ— æƒé™è®¿é—®&#34; return 1 fi } # æŸ¥çœ‹æ‰€æœ‰ä¿å­˜çš„ç›®å½• marco_list() { if [[ ${#MARCO_DIRS[@]} -eq 0 ]]; then echo &#34;ğŸ“Œ è¿˜æ²¡æœ‰ä¿å­˜ä»»ä½•ç›®å½•&#34; return fi echo &#34;ğŸ“Œ å·²ä¿å­˜çš„ç›®å½•æ ‡ç­¾:&#34; for tag in &#34;${!MARCO_DIRS[@]}&#34;; do if [[ &#34;$tag&#34; == &#34;$MARCO_DEFAULT&#34; ]]; then echo &#34; â˜… $tag â†’ ${MARCO_DIRS[$tag]}&#34; else echo &#34; $tag â†’ ${MARCO_DIRS[$tag]}&#34; fi done } # æ¸…é™¤æŒ‡å®šæ ‡ç­¾æˆ–æ‰€æœ‰æ ‡ç­¾ marco_clear() { local tag=&#34;${1}&#34; if [[ -z &#34;$tag&#34; ]]; then echo &#34;âš ï¸ ç”¨æ³•é”™è¯¯ï¼šè¯·æŒ‡å®šè¦æ¸…é™¤çš„æ ‡ç­¾ï¼Œæˆ–ä½¿ç”¨ &#39;all&#39; æ¸…é™¤æ‰€æœ‰&#34; echo &#34; ç¤ºä¾‹ï¼š&#34; echo &#34; marco_clear work # æ¸…é™¤workæ ‡ç­¾&#34; echo &#34; marco_clear all # æ¸…é™¤æ‰€æœ‰æ ‡ç­¾&#34; echo &#34; å½“å‰å¯ç”¨æ ‡ç­¾ï¼š${!MARCO_DIRS[@]}&#34; return 1 fi if [[ &#34;$tag&#34; == &#34;all&#34; ]]; then # å¢åŠ äºŒæ¬¡ç¡®è®¤ï¼Œè¿›ä¸€æ­¥é˜²æ­¢è¯¯æ“ä½œ read -p &#34;âš ï¸ ç¡®è®¤è¦æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„ç›®å½•å—ï¼Ÿ(y/N) &#34; confirm if [[ &#34;$confirm&#34; =~ ^[Yy]$ ]]; then MARCO_DIRS=() _marco_save_history echo &#34;âœ“ å·²æ¸…é™¤æ‰€æœ‰ä¿å­˜çš„ç›®å½•&#34; else echo &#34;âœ— æ“ä½œå·²å–æ¶ˆ&#34; fi elif [[ -n &#34;${MARCO_DIRS[$tag]}&#34; ]]; then unset MARCO_DIRS[&#34;$tag&#34;] _marco_save_history echo &#34;âœ“ å·²æ¸…é™¤æ ‡ç­¾: $tag&#34; else echo &#34;âœ— æ ‡ç­¾ä¸å­˜åœ¨: $tag&#34; echo &#34; å½“å‰å¯ç”¨æ ‡ç­¾ï¼š${!MARCO_DIRS[@]}&#34; fi } # 2. Tab è‡ªåŠ¨è¡¥å…¨ _polo_completion() { local cur cur=&#34;${COMP_WORDS[COMP_CWORD]}&#34; # è·å–æ‰€æœ‰çš„ key local tags=&#34;${!MARCO_DIRS[@]}&#34; # ç”Ÿæˆè¡¥å…¨åˆ—è¡¨ COMPREPLY=( $(compgen -W &#34;${tags}&#34; -- ${cur}) ) } # ç»‘å®šè¡¥å…¨å‡½æ•° complete -F _polo_completion polo complete -F _polo_completion marco_clear ç¼–å†™æ€è·¯ä¸è§£æ 1. æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šå…³è”æ•°ç»„ è„šæœ¬æ ¸å¿ƒä¾èµ–äº declare -A MARCO_DIRSï¼Œè¿™æ˜¯ä¸€ä¸ªå…³è”æ•°ç»„ï¼ˆAssociative Arrayï¼‰ï¼Œé”®æ˜¯æ ‡ç­¾ï¼ˆtagï¼‰ï¼Œå€¼æ˜¯ç»å¯¹è·¯å¾„ã€‚è¿™æ¯”ç®€å•çš„ä¸¤ä¸ªå˜é‡æä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œå…è®¸æˆ‘ä»¬ä¿å­˜å¤šä¸ªä½ç½®ã€‚
...</p>
    </div>
    <footer class="entry-footer"><span title='2026-01-19 10:48:00 +0800 CST'>January 19, 2026</span>&nbsp;Â·&nbsp;<span>xlikai</span></footer>
    <a class="entry-link" aria-label="post link to Shellç»ƒä¹ 2-2" href="https://xlikai.github.io/posts/linux/shell/shell%E8%84%9A%E6%9C%AC%E4%BD%9C%E4%B8%9A2-2/"></a>
  </article>
</div>
            </main>
            
<footer class="footer">
        <span>&copy; 2026 <a href="https://xlikai.github.io/">xlikaiçš„åšå®¢</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script src="https://xlikai.github.io/%20js/adaptive-bg.js"></script>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<button id="top-link" aria-label="go to top" title="Go to Top (Alt + G)">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</button>

<style>
    #top-link {
        display: none;
        position: fixed;
        bottom: 25px;
        right: 25px;
        z-index: 99999;
        cursor: pointer;
        animation: fadeIn 0.5s;
        background: var(--tertiary);
        color: var(--theme);
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: transform 0.2s, background-color 0.3s;
    }

    #top-link:hover {
        transform: scale(1.1);
        background: var(--primary);
    }

    #top-link svg {
        width: 14px;
        height: 14px;
        fill: currentColor;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>

<script>
    window.addEventListener('load', function () {
        
        const mainContent = document.querySelector('.main-content');
        const myButton = document.getElementById("top-link");

        if (!myButton) return;

        
        function checkScroll(scrollTop) {
            if (scrollTop > 400) {
                myButton.style.display = "flex";
            } else {
                myButton.style.display = "none";
            }
        }

        if (mainContent) {
            
            
            mainContent.onscroll = function () {
                checkScroll(mainContent.scrollTop);
            };

            myButton.onclick = function () {
                mainContent.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            };
        });
</script></body>

</html>